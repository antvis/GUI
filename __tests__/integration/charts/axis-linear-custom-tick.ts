import { Text, Circle, Line, Rect } from '@antv/g';
import { Axis } from '../../../src/ui/axis';

export const AxisLinearTickFormat = () => {
  const data = [
    '蚂蚁技术研究院',
    '智能资金',
    '蚂蚁消金',
    '合规线',
    '战略线',
    '商业智能线',
    'CFO线',
    'CTO线',
    '投资线',
    'GR线',
    '社会公益及绿色发展事业群',
    '阿里妈妈事业群',
    'CMO线',
    '大安全',
    '天猫事业线',
    '影业',
    'OceanBase',
    '投资基金线',
    '阿里体育',
    '智能科技事业群',
  ];

  const tickData = data.map((d, idx) => {
    const step = 1 / data.length;
    return {
      value: step * idx,
      label: d,
      id: String(idx),
    };
  });

  const linear = new Axis({
    style: {
      type: 'linear',
      startPos: [200, 150],
      endPos: [600, 150],
      data: tickData,
      lineLineWidth: 5,
      labelFormatter: () => '',
      tickStroke: (datum, index) => (index % 2 === 0 ? 'blue' : 'green'),
      tickFormatter: (datum, index, data, [cx, cy]) => {
        if (index === 3) return new Rect({ style: { width: 20, height: 20, fill: 'green', anchor: '0.5 0.5' } });
        return index % 5 === 0
          ? new Circle({ style: { r: index % 10 === 0 ? 10 : 5 } })
          : new Line({ style: { x1: 0, x2: 0, y1: 50 * cx, y2: 10 * cy } });
      },
      tickLength: (datum, index) => index * 5,
      tickFill: (datum, index) => (index % 5 === 0 ? 'pink' : 'white'),
      tickLineWidth: (datum, index) => (index % 5 === 0 ? 5 : 3),
    },
  });

  return linear;
};
